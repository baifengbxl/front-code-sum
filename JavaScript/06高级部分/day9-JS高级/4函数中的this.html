<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
		/*
		1. this是什么?
		  * 一个关键字, 一个内置的引用变量
		  * 在函数中都可以直接使用this
		  * this代表调用函数的当前对象
		  * 在定义函数时, this还没有确定, 只有在执行时才动态确定(绑定)的
		2. 如何确定this的值?
		  * test()
		  * obj.test()
		  * new test()
		  * test.call(obj)
		前置知识:
		  * 本质上任何函数在执行时都是通过某个对象调用的
		  */
		 
		 function Person(color) {
		    console.log(this)
		    //构造函数的第一个属性
		    this.color = color;
		    //构造函数的第2个属性
		    this.getColor = function () {
		      console.log(this)
		      return this.color;
		    };
		    //构造函数的第3个属性
		    this.setColor = function (color) {
		      console.log(this)
		      this.color = color;
		    };
		}
		
		  Person("red"); //this是谁? window
		  var p = new Person("yello");  //this是谁? p
		  p.getColor(); //this是谁?  p
		  var obj = {};
		  p.setColor.call(obj, "black"); //this是谁? obj
		  var test = p.setColor;
		  test(); //this是谁? window
		
		//新的案例
		  function fun1() {
		    function fun2() {
		      console.log(this);
		    }
		
		    fun2(); //this是谁? window
		  }
		  
		  fun1();
		</script>
	</body>
</html>
